---
title: CSR和SSR
date: 2025-08-19 14:11:20
tags: Next.js
---

## 1. CSR（客户端渲染）

**原理**

- 首次请求时，浏览器主要拿到一个 **空的 HTML 外壳**（`<div id="root"></div>` 等）。
- JS 脚本会在浏览器端运行，拉取数据，生成 DOM，再把内容“挂载”到 HTML 上。
- 所有页面切换、数据更新都在客户端通过 JS 完成。

**流程示意**

1. 浏览器请求页面 → 服务器返回空壳 HTML + JS
2. 浏览器下载并执行 JS → 渲染页面内容
3. 页面可交互

**优点**

- **用户体验好**：前端路由切换无需整页刷新，交互顺滑。
- **前后端分离**：后端只提供 API，前端独立开发，灵活性强。
- **更适合 SPA（单页应用）**：如 React/Vue 应用。

**缺点**

- **首屏渲染慢**：要先加载 JS 再执行，内容才出来。
- **SEO 不友好**：初始 HTML 没有内容，搜索引擎爬虫可能抓不到（虽然现代爬虫有改进）。
- **性能依赖客户端**：低性能设备加载大量 JS 体验不佳。

---

## 2. SSR（服务端渲染）

**原理**

- 每次请求由服务器生成完整的 HTML 页面（已经包含数据和渲染结果）。
- 浏览器拿到 HTML 就能直接显示内容，再由前端 JS 接管页面交互。
- 常见于传统网站（PHP、Java 模板），也有现代框架支持 SSR（Next.js、Nuxt.js）。

**流程示意**

1. 浏览器请求页面 → 服务器拼接好 HTML（含数据）
2. 浏览器解析 HTML → 页面可见
3. JS 启动，接管交互（**水合 hydrate** 阶段）

**优点**

- **首屏加载快**：HTML 已带内容，用户能更快看到页面。
- **SEO 友好**：搜索引擎能直接抓到完整 HTML。
- **适合内容型网站**：如电商、博客、新闻等。

**缺点**

- **服务器压力大**：每次请求都要拼接页面，计算量大。
- **缓存和扩展更复杂**：需要 CDN 或 SSR 缓存优化。
- **开发复杂度高**：前后端耦合度比纯 CSR 更高，需要处理水合问题。

---

## 3. 对比总结

| 特性           | CSR（客户端渲染）  | SSR（服务端渲染）          |
| -------------- | ------------------ | -------------------------- |
| **首屏速度**   | 慢（依赖 JS 执行） | 快（直接返回 HTML）        |
| **SEO**        | 较差               | 友好                       |
| **交互体验**   | 流畅、无刷新       | 首屏快，但切换可能触发请求 |
| **服务器压力** | 低（只提供 API）   | 高（要拼 HTML）            |
| **复杂度**     | 中等，适合 SPA     | 高，需要水合、缓存优化     |
| **适用场景**   | Web App、后台系统  | 电商、博客、新闻、营销页面 |

---

📌 补充：
很多现代框架支持 **同构/混合渲染**（例如 Next.js、Nuxt.js、Remix）：

- 首屏用 SSR 加快显示和利于 SEO
- 之后用 CSR 接管交互
  这种方式结合了两者的优势。

---
