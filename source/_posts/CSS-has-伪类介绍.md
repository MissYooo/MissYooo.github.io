---
title: CSS :has() 伪类介绍
date: 2025-06-24 14:37:51
tags: CSS
---

# CSS `:has()` 伪类介绍

`:has()` 是 CSS 中的一个功能强大的伪类选择器，它允许开发者根据元素的子元素或后续兄弟元素来选择父元素。这个选择器有时被称为"父选择器"或"反向选择器"。

## 基本语法

```css
parent:has(child) {
  /* 样式规则 */
}
```

## 功能特点

1. **父元素选择**：可以选择包含特定子元素的父元素
2. **组合选择**：可以与其他选择器组合使用
3. **复杂条件**：支持多个条件组合

## 使用示例

### 选择包含特定子元素的父元素

```css
/* 选择包含 <img> 子元素的 <div> */
div:has(img) {
  border: 2px solid blue;
}

/* 选择包含类名为 "active" 的子元素的列表项 */
li:has(.active) {
  font-weight: bold;
}
```

### 选择包含特定后续兄弟元素的元素

```css
/* 选择后面跟着 <h2> 的 <h1> */
h1:has(+ h2) {
  margin-bottom: 0;
}
```

### 复杂条件选择

```css
/* 选择包含至少一个 <p> 和一个 <img> 的 <article> */
article:has(p):has(img) {
  background-color: #f5f5f5;
}

/* 选择包含特定属性子元素的父元素 */
div:has(a[target="_blank"]) {
  padding: 10px;
}
```

## 浏览器支持

`:has()` 选择器在现代浏览器中得到了广泛支持：

- Chrome 105+（2022 年 9 月）
- Safari 15.4+（2022 年 3 月）
- Firefox 103+（2022 年 9 月）
- Edge 105+（2022 年 9 月）

## 注意事项

1. **性能考虑**：`:has()` 选择器可能比其他选择器更消耗性能，特别是在大型 DOM 树上
2. **特异性**：`:has()` 伪类本身不会增加选择器的特异性权重
3. **限制**：不能嵌套使用 `:has()`，如 `:has(:has(...))` 是不允许的

`:has()` 选择器为 CSS 提供了更强大的选择能力，使得许多以前需要 JavaScript 才能实现的选择逻辑现在可以纯 CSS 实现。
